# Thanks https://github.com/MiGoller/dc-systemd-template#creating-docker-compose-powered-services-using-systemd-templates
[Unit]
Description=%i service powered by docker compose

[Service]
Restart=always
RestartSec=15s
TimeoutStartSec=300
WorkingDirectory=/opt/apps/%i

#   Remove old containers, images and volumes and update it
#ExecStartPre=/usr/bin/docker compose down
#ExecStartPre=/usr/bin/docker compose rm -f
#   Comment the following to not automatically update your images!
ExecStartPre=/usr/bin/docker compose pull

ExecStart=/usr/bin/docker compose up
ExecStop=/usr/bin/docker compose stop

[Install]
WantedBy=multi-user.target
